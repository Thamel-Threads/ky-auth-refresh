'use strict';Object.defineProperty(exports,'__esModule',{value:true});function c(i,r,a={}){if(typeof r!="function")throw new Error("refreshAuthCall must be a function");let{statusCodes:f=[401],onRetry:n}=a,t=false,e=null,h=async(u,R,s)=>{if(R?.skipAuthRefresh||s.ok||!f.includes(s.status))return s;t&&e?await e:t||(t=true,e=r().finally(()=>{t=false,e=null;}),await e);try{let o=n?await n(u):u;return fetch(o.url,{method:o.method,headers:o.headers,body:o.body})}catch{return s}};return i.extend({hooks:{afterResponse:[h]}})}var y=c;exports.createAuthRefreshHook=c;exports.default=y;